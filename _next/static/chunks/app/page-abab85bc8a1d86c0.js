(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2786:function(e,t,s){Promise.resolve().then(s.bind(s,1970))},1970:function(e,t,s){"use strict";s.d(t,{default:function(){return m}});var i=s(7437),n=s(9993),r=s(6800),a=s(2934),l=s(2265),o=s(7586),c=s(7694);function d(e){let{progress:t,isComplete:s}=e;return(0,i.jsx)(o.M,{children:!s&&(0,i.jsxs)(c.E.div,{className:"fixed inset-0 z-50 flex flex-col items-center justify-center bg-[#00735C]",initial:{opacity:1},exit:{opacity:0},transition:{duration:.8,ease:"easeInOut"},children:[(0,i.jsxs)(c.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"mb-12",children:[(0,i.jsx)("h1",{className:"font-serif text-5xl md:text-7xl text-white/90 tracking-tight",children:"HOMIE"}),(0,i.jsx)("p",{className:"text-center font-sans text-lg text-white/60 tracking-[0.3em] mt-2",children:"COFFEE"})]}),(0,i.jsxs)("div",{className:"w-64 md:w-80",children:[(0,i.jsx)("div",{className:"h-[2px] w-full bg-white/20 rounded-full overflow-hidden",children:(0,i.jsx)(c.E.div,{className:"h-full bg-white/90 origin-left",initial:{scaleX:0},animate:{scaleX:t/100},transition:{duration:.3,ease:"easeOut"}})}),(0,i.jsxs)(c.E.div,{className:"flex justify-between items-center mt-4",initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},children:[(0,i.jsx)("span",{className:"text-white/50 text-sm font-sans tracking-wider",children:"Loading experience"}),(0,i.jsxs)("span",{className:"text-white/80 text-sm font-sans tabular-nums",children:[Math.round(t),"%"]})]})]}),(0,i.jsx)(c.E.div,{className:"absolute bottom-12 left-1/2 -translate-x-1/2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:(0,i.jsx)("div",{className:"flex gap-2",children:[0,1,2].map(e=>(0,i.jsx)(c.E.div,{className:"w-2 h-2 bg-white/30 rounded-full",animate:{scale:[1,1.2,1],opacity:[.3,.7,.3]},transition:{duration:1.5,repeat:1/0,delay:.2*e}},e))})})]})})}let h=[{text:"HOMIE Coffee.",subtitle:"Pure Origin.",position:"center",startProgress:0,endProgress:.15},{text:"The journey begins",subtitle:"with the cherry.",position:"left",startProgress:.25,endProgress:.4},{text:"Roasted for Depth.",subtitle:"Ground for Flavor.",position:"right",startProgress:.5,endProgress:.65},{text:"Made for",subtitle:"the Homies.",position:"center",startProgress:.8,endProgress:1}];function u(e){let{containerRef:t}=e,{scrollYProgress:s}=(0,n.v)({target:t,offset:["start start","end end"]});return(0,i.jsx)("div",{className:"fixed inset-0 pointer-events-none z-10",children:h.map((e,t)=>(0,i.jsx)(x,{section:e,scrollProgress:s},t))})}function x(e){let{section:t,scrollProgress:s}=e,n=t.startProgress,a=t.startProgress+.03,l=t.endProgress-.03,o=t.endProgress,d=(0,r.H)(s,[n,a,l,o],[0,1,1,0]),h=(0,r.H)(s,[n,a,l,o],[40,0,0,-40]),u=t.startProgress>=.8;return(0,i.jsx)(c.E.div,{className:"absolute inset-0 flex ".concat({center:"items-center justify-center text-center",left:"items-center justify-start text-left pl-8 md:pl-16 lg:pl-24",right:"items-center justify-end text-right pr-8 md:pr-16 lg:pr-24"}[t.position]),style:{opacity:d},children:(0,i.jsxs)(c.E.div,{style:{y:h},className:"max-w-xl",children:[(0,i.jsx)("h2",{className:"font-serif text-4xl md:text-6xl lg:text-7xl text-white/90 leading-tight",children:t.text}),t.subtitle&&(0,i.jsx)("p",{className:"font-serif text-3xl md:text-5xl lg:text-6xl mt-2 ".concat(u?"text-white/90":"text-white/70"," leading-tight"),children:t.subtitle}),u&&(0,i.jsx)(c.E.button,{className:"mt-8 px-8 py-4 bg-white/10 backdrop-blur-sm border border-white/30    text-white font-sans text-sm tracking-widest uppercase   hover:bg-white/20 transition-all duration-300 pointer-events-auto",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Explore the Blend"})]})})}let f=e=>{let t=String(e).padStart(3,"0");return"".concat("/sequence/ezgif-frame-").concat(t,".jpg")};function m(){let e=(0,l.useRef)(null),t=(0,l.useRef)(null),[s,o]=(0,l.useState)([]),[c,h]=(0,l.useState)(0),[x,m]=(0,l.useState)(!1),[g,p]=(0,l.useState)(0),{scrollYProgress:w}=(0,n.v)({target:e,offset:["start start","end end"]}),v=(0,r.H)(w,[0,1],[1,154]);(0,l.useEffect)(()=>{(async()=>{let e=[],t=0,s=e=>new Promise((s,i)=>{let n=new Image;n.onload=()=>{h(++t/154*100),s(n)},n.onerror=i,n.src=f(e)});for(let t=1;t<=154;t+=10){let i=[];for(let e=t;e<Math.min(t+10,155);e++)i.push(s(e));let n=await Promise.all(i);e.push(...n)}o(e),setTimeout(()=>m(!0),300)})()},[]);let b=(0,l.useCallback)(e=>{let i,n,r,a;let l=t.current,o=null==l?void 0:l.getContext("2d"),c=s[e-1];if(!l||!o||!c)return;let d=window.devicePixelRatio||1,h=l.getBoundingClientRect();l.width=h.width*d,l.height=h.height*d,o.scale(d,d),o.fillStyle="#00735C",o.fillRect(0,0,h.width,h.height);let u=c.width/c.height;u>h.width/h.height?(i=h.width,n=h.width/u,r=0,a=(h.height-n)/2):(n=h.height,i=h.height*u,r=(h.width-i)/2,a=0),o.drawImage(c,r,a,i,n)},[s]);return(0,a.W)(v,"change",e=>{let t=Math.min(Math.max(Math.round(e),1),154);t!==g&&(p(t),requestAnimationFrame(()=>b(t)))}),(0,l.useEffect)(()=>{if(x&&s.length>0){b(1);let e=()=>{b(g||1)};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}},[x,s,b,g]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(d,{progress:c,isComplete:x}),(0,i.jsxs)("div",{ref:e,className:"relative h-[600vh]",children:[(0,i.jsxs)("div",{className:"sticky top-0 h-screen w-full overflow-hidden",children:[(0,i.jsx)("canvas",{ref:t,className:"absolute inset-0 w-full h-full",style:{backgroundColor:"#00735C"}}),(0,i.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 via-transparent to-black/20 pointer-events-none"})]}),x&&(0,i.jsx)(u,{containerRef:e})]})]})}}},function(e){e.O(0,[274,971,117,744],function(){return e(e.s=2786)}),_N_E=e.O()}]);